(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{390:function(t,s,a){"use strict";a.r(s);var e=a(42),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"signed-trade、user-data-and-margin-endpoint-security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#signed-trade、user-data-and-margin-endpoint-security"}},[t._v("#")]),t._v(" SIGNED (TRADE、USER_DATA AND MARGIN) Endpoint security")]),t._v(" "),a("ul",[a("li",[t._v("调用"),a("code",[t._v("SIGNED")]),t._v(" 接口时，除了接口本身所需的参数外，还需要在"),a("code",[t._v("query string")]),t._v(" 或 "),a("code",[t._v("request body")]),t._v("中传递 "),a("code",[t._v("signature")]),t._v(", 即签名参数。")]),t._v(" "),a("li",[t._v("签名使用"),a("code",[t._v("HMAC SHA256")]),t._v("算法. API-KEY所对应的API-Secret作为 "),a("code",[t._v("HMAC SHA256")]),t._v(" 的密钥，其他所有参数作为"),a("code",[t._v("HMAC SHA256")]),t._v("的操作对象，得到的输出即为签名。")]),t._v(" "),a("li",[a("code",[t._v("签名")]),t._v(" "),a("strong",[t._v("大小写不敏感")]),t._v(".")]),t._v(" "),a("li",[t._v('"totalParams"定义为与"request body"串联的"query string"。')])]),t._v(" "),a("h2",{attrs:{id:"时间同步安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间同步安全"}},[t._v("#")]),t._v(" 时间同步安全")]),t._v(" "),a("ul",[a("li",[t._v("签名接口均需要传递 "),a("code",[t._v("timestamp")]),t._v("参数，其值应当是请求发送时刻的unix时间戳(毫秒)。")]),t._v(" "),a("li",[t._v("服务器收到请求时会判断请求中的时间戳，如果是5000毫秒之前发出的，则请求会被认为无效。这个时间空窗值可以通过发送可选参数 "),a("code",[t._v("recvWindow")]),t._v("来定义。")])]),t._v(" "),a("blockquote",[a("p",[t._v("逻辑伪代码如下:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("  if (timestamp < (serverTime + "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(") && (serverTime - timestamp) <= recvWindow)\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// process request")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n  else \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reject request")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("关于交易时效性")]),t._v(" 互联网状况并不完全稳定可靠,因此你的程序本地到币安服务器的时延会有抖动。这是我们设置"),a("code",[t._v("recvWindow")]),t._v("的目的所在，如果你从事高频交易，对交易时效性有较高的要求，可以灵活设置"),a("code",[t._v("recvWindow")]),t._v("以达到你的要求。")]),t._v(" "),a("aside",{staticClass:"notice"},[t._v("\n推荐使用5秒以下的 recvWindow! 最多不能超过 60秒!\n")]),t._v(" "),a("h2",{attrs:{id:"post-api-v3-order-的示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v3-order-的示例"}},[t._v("#")]),t._v(" POST /api/v3/order 的示例")]),t._v(" "),a("p",[t._v("以下是在linux bash环境下使用 echo openssl 和curl工具实现的一个调用接口下单的示例 apikey、secret仅供示范")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Key")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("apiKey")]),t._v(" "),a("td",[t._v("vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A")])]),t._v(" "),a("tr",[a("td",[t._v("secretKey")]),t._v(" "),a("td",[t._v("NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("取值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("symbol")]),t._v(" "),a("td",[t._v("LTCBTC")])]),t._v(" "),a("tr",[a("td",[t._v("side")]),t._v(" "),a("td",[t._v("BUY")])]),t._v(" "),a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("LIMIT")])]),t._v(" "),a("tr",[a("td",[t._v("timeInForce")]),t._v(" "),a("td",[t._v("GTC")])]),t._v(" "),a("tr",[a("td",[t._v("quantity")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("price")]),t._v(" "),a("td",[t._v("0.1")])]),t._v(" "),a("tr",[a("td",[t._v("recvWindow")]),t._v(" "),a("td",[t._v("5000")])]),t._v(" "),a("tr",[a("td",[t._v("timestamp")]),t._v(" "),a("td",[t._v("1499827319559")])])])]),t._v(" "),a("h3",{attrs:{id:"示例-1-所有参数通过-request-body-发送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-1-所有参数通过-request-body-发送"}},[t._v("#")]),t._v(" 示例 1: 所有参数通过 request body 发送")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Example 1")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("HMAC SHA256 signature:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    $ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" openssl dgst -sha256 -hmac "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71\n")])])]),a("blockquote",[a("p",[a("strong",[t._v("curl command:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HMAC SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    $ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-MBX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"')]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.binance.com/api/v3/order'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559&signature=c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71'")]),t._v("\n    \n")])])]),a("ul",[a("li",[a("strong",[t._v("requestBody:")])])]),t._v(" "),a("p",[t._v("symbol=LTCBTC"),a("br"),t._v("\n&side=BUY"),a("br"),t._v("\n&type=LIMIT"),a("br"),t._v("\n&timeInForce=GTC"),a("br"),t._v("\n&quantity=1"),a("br"),t._v("\n&price=0.1"),a("br"),t._v("\n&recvWindow=5000"),a("br"),t._v("\n&timestamp=1499827319559")]),t._v(" "),a("h3",{attrs:{id:"示例-2-所有参数通过-query-string-发送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2-所有参数通过-query-string-发送"}},[t._v("#")]),t._v(" 示例 2: 所有参数通过 query string 发送")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Example 2")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("HMAC SHA256 signature:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    $ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" openssl dgst -sha256 -hmac "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71\n    \n")])])]),a("blockquote",[a("p",[a("strong",[t._v("curl command:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HMAC SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   $ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-MBX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"')]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.binance.com/api/v3/order?symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559&signature=c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71'")]),t._v("\n    \n")])])]),a("ul",[a("li",[a("strong",[t._v("queryString:")])])]),t._v(" "),a("p",[t._v("symbol=LTCBTC"),a("br"),t._v("\n&side=BUY"),a("br"),t._v("\n&type=LIMIT"),a("br"),t._v("\n&timeInForce=GTC"),a("br"),t._v("\n&quantity=1"),a("br"),t._v("\n&price=0.1"),a("br"),t._v("\n&recvWindow=5000"),a("br"),t._v("\n&timestamp=1499827319559")]),t._v(" "),a("h3",{attrs:{id:"示例-3-混合使用-query-string-和-request-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3-混合使用-query-string-和-request-body"}},[t._v("#")]),t._v(" 示例 3: 混合使用 query string 和 request body")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Example 3")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("HMAC SHA256 signature:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("   $ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTCquantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" openssl dgst -sha256 -hmac "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0fd168b8ddb4876a0358a8d14d0c9f3da0e9b20c5d52b2a00fcf7d1c602f9a77\n    \n")])])]),a("blockquote",[a("p",[a("strong",[t._v("curl command:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HMAC SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    $ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-MBX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"')]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.binance.com/api/v3/order?symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559&signature=0fd168b8ddb4876a0358a8d14d0c9f3da0e9b20c5d52b2a00fcf7d1c602f9a77'")]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("queryString:")])])]),t._v(" "),a("p",[t._v("symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("requestBody:")])])]),t._v(" "),a("p",[t._v("quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559")]),t._v(" "),a("p",[t._v('请注意，签名与示例3不同。\n"GTC"和"quantity = 1"之间没有＆。')]),t._v(" "),a("h2",{attrs:{id:"post的签名接口示例-wapi-v3-withdraw-html"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post的签名接口示例-wapi-v3-withdraw-html"}},[t._v("#")]),t._v(" POST的签名接口示例/wapi/v3/withdraw.html")]),t._v(" "),a("p",[t._v("这是一个分步示例，说明如何从\n使用"),a("code",[t._v("echo")]),t._v("，"),a("code",[t._v("openssl")]),t._v("和"),a("code",[t._v("curl")]),t._v("的Linux命令行。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Key")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("apiKey")]),t._v(" "),a("td",[t._v("vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A")])]),t._v(" "),a("tr",[a("td",[t._v("secretKey")]),t._v(" "),a("td",[t._v("NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("取值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("asset")]),t._v(" "),a("td",[t._v("ETH")])]),t._v(" "),a("tr",[a("td",[t._v("address")]),t._v(" "),a("td",[t._v("0x6915f16f8791d0a1cc2bf47c13a6b2a92000504b")])]),t._v(" "),a("tr",[a("td",[t._v("addressTag")]),t._v(" "),a("td",[t._v("1 (Secondary address identifier for coins like XRP,XMR etc.)")])]),t._v(" "),a("tr",[a("td",[t._v("amount")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("recvWindow")]),t._v(" "),a("td",[t._v("5000")])]),t._v(" "),a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("addressName (Description of the address)")])]),t._v(" "),a("tr",[a("td",[t._v("timestamp")]),t._v(" "),a("td",[t._v("1508396497000")])]),t._v(" "),a("tr",[a("td",[t._v("signature")]),t._v(" "),a("td",[t._v("157fb937ec848b5f802daa4d9f62bea08becbf4f311203bda2bd34cd9853e320")])])])]),t._v(" "),a("h3",{attrs:{id:"示例-1-所有参数通过-query-string-发送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-1-所有参数通过-query-string-发送"}},[t._v("#")]),t._v(" 示例 1: 所有参数通过 query string 发送")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("HMAC SHA256 signature:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    $ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"asset=ETH&address=0x6915f16f8791d0a1cc2bf47c13a6b2a92000504b&amount=1&recvWindow=5000&timestamp=1510903211000"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" openssl dgst -sha256 -hmac "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 157fb937ec848b5f802daa4d9f62bea08becbf4f311203bda2bd34cd9853e320\n    \n")])])]),a("blockquote",[a("p",[a("strong",[t._v("curl command:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HMAC SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    $ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-MBX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"')]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.binance.com/wapi/v3/withdraw.html?asset=ETH&address=0x6915f16f8791d0a1cc2bf47c13a6b2a92000504b&amount=1&recvWindow=5000&name=addressName&timestamp=1510903211000&signature=157fb937ec848b5f802daa4d9f62bea08becbf4f311203bda2bd34cd9853e320'")]),t._v("\n    \n")])])]),a("ul",[a("li",[a("strong",[t._v("queryString:")])])]),t._v(" "),a("p",[t._v("asset=ETH"),a("br"),t._v("\n&address=0x6915f16f8791d0a1cc2bf47c13a6b2a92000504b\n&amount=1&recvWindow=5000&name=test&timestamp=1510903211000")]),t._v(" "),a("p",[t._v("注意，对于"),a("code",[t._v("wapi")]),t._v("，参数必须以查询字符串的形式发送。")])])}),[],!1,null,null,null);s.default=r.exports}}]);