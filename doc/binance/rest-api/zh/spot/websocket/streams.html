<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>行情数据流 | 币安API文档</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="../../../assets/css/0.styles.79900eef.css" as="style"><link rel="preload" href="../../../assets/js/app.a1ad5869.js" as="script"><link rel="preload" href="../../../assets/js/2.a3268d1a.js" as="script"><link rel="preload" href="../../../assets/js/65.e9ea2081.js" as="script"><link rel="prefetch" href="../../../assets/js/10.d304f228.js"><link rel="prefetch" href="../../../assets/js/11.6632d1b7.js"><link rel="prefetch" href="../../../assets/js/12.958c7240.js"><link rel="prefetch" href="../../../assets/js/13.97327008.js"><link rel="prefetch" href="../../../assets/js/14.8b66c308.js"><link rel="prefetch" href="../../../assets/js/15.90f33433.js"><link rel="prefetch" href="../../../assets/js/16.b8b472d0.js"><link rel="prefetch" href="../../../assets/js/17.75c2637e.js"><link rel="prefetch" href="../../../assets/js/18.90def227.js"><link rel="prefetch" href="../../../assets/js/19.a31eaebb.js"><link rel="prefetch" href="../../../assets/js/20.018602c2.js"><link rel="prefetch" href="../../../assets/js/21.43dcc48d.js"><link rel="prefetch" href="../../../assets/js/22.558dd29d.js"><link rel="prefetch" href="../../../assets/js/23.06fd1840.js"><link rel="prefetch" href="../../../assets/js/24.9536d2ee.js"><link rel="prefetch" href="../../../assets/js/25.0538f733.js"><link rel="prefetch" href="../../../assets/js/26.876ff800.js"><link rel="prefetch" href="../../../assets/js/27.732712eb.js"><link rel="prefetch" href="../../../assets/js/28.116c502c.js"><link rel="prefetch" href="../../../assets/js/29.313ce492.js"><link rel="prefetch" href="../../../assets/js/3.adabf404.js"><link rel="prefetch" href="../../../assets/js/30.11bd1085.js"><link rel="prefetch" href="../../../assets/js/31.a49db4c5.js"><link rel="prefetch" href="../../../assets/js/32.f629ee00.js"><link rel="prefetch" href="../../../assets/js/33.58e6bbbd.js"><link rel="prefetch" href="../../../assets/js/34.850004c1.js"><link rel="prefetch" href="../../../assets/js/35.67b4300e.js"><link rel="prefetch" href="../../../assets/js/36.91bf912c.js"><link rel="prefetch" href="../../../assets/js/37.7c016817.js"><link rel="prefetch" href="../../../assets/js/38.bd32a1b7.js"><link rel="prefetch" href="../../../assets/js/39.c5d54ecf.js"><link rel="prefetch" href="../../../assets/js/4.7d5f245c.js"><link rel="prefetch" href="../../../assets/js/40.2ac1a9b3.js"><link rel="prefetch" href="../../../assets/js/41.f442f50a.js"><link rel="prefetch" href="../../../assets/js/42.c5fc4f15.js"><link rel="prefetch" href="../../../assets/js/43.e36c3b14.js"><link rel="prefetch" href="../../../assets/js/44.ce7cd8d5.js"><link rel="prefetch" href="../../../assets/js/45.4c262892.js"><link rel="prefetch" href="../../../assets/js/46.0a2af1d8.js"><link rel="prefetch" href="../../../assets/js/47.23b0d91a.js"><link rel="prefetch" href="../../../assets/js/48.ad577adc.js"><link rel="prefetch" href="../../../assets/js/49.b0e3d692.js"><link rel="prefetch" href="../../../assets/js/5.095e28bb.js"><link rel="prefetch" href="../../../assets/js/50.b78c802d.js"><link rel="prefetch" href="../../../assets/js/51.d4c0cc5c.js"><link rel="prefetch" href="../../../assets/js/52.e351061b.js"><link rel="prefetch" href="../../../assets/js/53.ec9c204f.js"><link rel="prefetch" href="../../../assets/js/54.48757150.js"><link rel="prefetch" href="../../../assets/js/55.5a1b9df1.js"><link rel="prefetch" href="../../../assets/js/56.9c392148.js"><link rel="prefetch" href="../../../assets/js/57.da510600.js"><link rel="prefetch" href="../../../assets/js/58.272674c5.js"><link rel="prefetch" href="../../../assets/js/59.de4b7b20.js"><link rel="prefetch" href="../../../assets/js/6.076864a5.js"><link rel="prefetch" href="../../../assets/js/60.10e2e335.js"><link rel="prefetch" href="../../../assets/js/61.0556f72d.js"><link rel="prefetch" href="../../../assets/js/62.c6bc0b27.js"><link rel="prefetch" href="../../../assets/js/63.470b470b.js"><link rel="prefetch" href="../../../assets/js/64.f01d8e4a.js"><link rel="prefetch" href="../../../assets/js/66.9ae7e6a2.js"><link rel="prefetch" href="../../../assets/js/7.9ed1b2fa.js"><link rel="prefetch" href="../../../assets/js/8.265097a2.js"><link rel="prefetch" href="../../../assets/js/9.33fadff3.js">
    <link rel="stylesheet" href="../../../assets/css/0.styles.79900eef.css">
  </head>
  <body>


<!-- Copyright  2008. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.1.2.1052</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  05/14/21 10:17:21.<br>
<b>Address:</b> <a class="info" href="https://2pd.github.io/zh/spot/websocket/streams.html">https://2pd.github.io/zh/spot/websocket/streams.html</a><br>
<b>Title:</b> 行情数据流 | 币安API文档 &nbsp;&bull;&nbsp; <b>Size:</b> 45329 &nbsp;&bull;&nbsp; <b>Last Modified:</b> Wed, 05 Aug 2020 00:31:44 GMT<br></div>
<!-- /Copyright  2008. Spidersoft Ltd -->


    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../../zh.html" class="home-link router-link-active"><!----> <span class="site-name">币安API文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="../../zh.html" class="nav-link">
  现货/杠杆
</a></div><div class="nav-item"><a href="https://2pd.github.io/zh/spot/websocket/.html#" class="nav-link">
  USDT合约(TODO)
</a></div><div class="nav-item"><a href="https://2pd.github.io/zh/spot/websocket/.html#" class="nav-link">
  币本位合约(TODO)
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://2pd.github.io/spot/websocket/streams.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="streams.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="../../zh.html" class="nav-link">
  现货/杠杆
</a></div><div class="nav-item"><a href="https://2pd.github.io/zh/spot/websocket/.html#" class="nav-link">
  USDT合约(TODO)
</a></div><div class="nav-item"><a href="https://2pd.github.io/zh/spot/websocket/.html#" class="nav-link">
  币本位合约(TODO)
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://2pd.github.io/spot/websocket/streams.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="streams.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="../change_log/change_log.html" class="sidebar-link">更新日志</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../introduction/key_setup.html" class="sidebar-link">API Key 设置</a></li><li><a href="../introduction/key_restriction.html" class="sidebar-link">API Key 权限设置</a></li><li><a href="../introduction/enabling_accounts.html" class="sidebar-link">账户</a></li><li><a href="../introduction/spot_testnet.html" class="sidebar-link">测试网</a></li><li><a href="../introduction/postman.html" class="sidebar-link">Postman Collections</a></li><li><a href="../introduction/contact_us.html" class="sidebar-link">联系我们</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基本信息</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../basic/basic.html" class="sidebar-link">基本信息</a></li><li><a href="../basic/http_code.html" class="sidebar-link">HTTP 返回代码</a></li><li><a href="../basic/endpoint_general.html" class="sidebar-link">接口的基本信息</a></li><li><a href="../basic/limits.html" class="sidebar-link">访问限制</a></li><li><a href="../basic/endpoint_security.html" class="sidebar-link">接口鉴权类型</a></li><li><a href="../basic/signature.html" class="sidebar-link">SIGNED Endpoint security</a></li><li><a href="../basic/terminology.html" class="sidebar-link">术语</a></li><li><a href="../../../spot/basic/filters.html" class="sidebar-link">Filters</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>RESTful接口</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../restful_endpoints/market_endpoints.html" class="sidebar-link">行情接口</a></li><li><a href="../restful_endpoints/spot_endpoints.html" class="sidebar-link">现货接口</a></li><li><a href="../restful_endpoints/wallet_endpoints.html" class="sidebar-link">钱包接口</a></li><li><a href="../restful_endpoints/margin_endpoints.html" class="sidebar-link">杠杆接口</a></li><li><a href="../restful_endpoints/savings_endpoints.html" class="sidebar-link">币安宝接口</a></li><li><a href="../restful_endpoints/mining_endpoints.html" class="sidebar-link">矿池接口</a></li><li><a href="../restful_endpoints/futures_endpoints.html" class="sidebar-link">合约接口</a></li><li><a href="../restful_endpoints/sub_accounts.html" class="sidebar-link">子母账户接口</a></li><li><a href="../restful_endpoints/listen_key.html" class="sidebar-link">Listen Key</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Websocket推送</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="general.html" class="sidebar-link">Websocket介绍</a></li><li><a href="streams.html" aria-current="page" class="active sidebar-link">行情数据流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#归集交易?" class="sidebar-link">归集交易流</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#逐笔交易" class="sidebar-link">逐笔交易</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#k?streams" class="sidebar-link">K线 Streams</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#?symbol-的精简ticker" class="sidebar-link">按 Symbol 的精简Ticker</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#全市场所有symbol的精简ticker" class="sidebar-link">全市场所有Symbol的精简Ticker</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#按symbol的完整ticker" class="sidebar-link">按Symbol的完整Ticker</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#全市场所有交易对的完整ticker" class="sidebar-link">全市场所有交易对的完整Ticker</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#按symbol的最优挂单信?" class="sidebar-link">按Symbol的最优挂单信息</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#全市场最优挂单信?" class="sidebar-link">全市场最优挂单信息</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#有限档深度信?" class="sidebar-link">有限档深度信息</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#增量深度信息" class="sidebar-link">增量深度信息</a></li><li class="sidebar-sub-header"><a href="https://2pd.github.io/zh/spot/websocket/streams.html#如何正确在本地维护一个orderbook副本" class="sidebar-link">如何正确在本地维护一个orderbook副本</a></li></ul></li><li><a href="user_stream.html" class="sidebar-link">账户信息推送</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>定义</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../definitions/error_code.html" class="sidebar-link">错误代码</a></li><li><a href="../definitions/enum.html" class="sidebar-link">枚举定义</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="行情数据流"><a href="#行情数据流" class="header-anchor">#</a> 行情数据流</h1> <h2 id="归集交易流"><a href="#归集交易流" class="header-anchor">#</a> 归集交易流</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aggTrade&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 事件类型</span>
  <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>   <span class="token comment">// 事件时间</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 交易对</span>
  <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span>       <span class="token comment">// 归集交易ID</span>
  <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 成交价格</span>
  <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 成交数量</span>
  <span class="token property">&quot;f&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>         <span class="token comment">// 被归集的首个交易ID</span>
  <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token number">105</span><span class="token punctuation">,</span>         <span class="token comment">// 被归集的末次交易ID</span>
  <span class="token property">&quot;T&quot;</span><span class="token operator">:</span> <span class="token number">123456785</span><span class="token punctuation">,</span>   <span class="token comment">// 成交时间</span>
  <span class="token property">&quot;m&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token comment">// 买方是否是做市方。如true，则此次成交是一个主动卖出单，否则是一个主动买入单。</span>
  <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>         <span class="token comment">// 请忽略该字段</span>
<span class="token punctuation">}</span>
</code></pre></div><p>归集交易 stream 推送交易信息，是对单一订单的集合。</p> <p><strong>Stream 名称:</strong> <code>&lt;symbol&gt;@aggTrade</code><br> <strong>Update Speed:</strong> 实时</p> <h2 id="逐笔交易"><a href="#逐笔交易" class="header-anchor">#</a> 逐笔交易</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;trade&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 事件类型</span>
  <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>   <span class="token comment">// 事件时间</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 交易对</span>
  <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span>       <span class="token comment">// 交易ID</span>
  <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 成交价格</span>
  <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 成交数量</span>
  <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>          <span class="token comment">// 买方的订单ID</span>
  <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>          <span class="token comment">// 卖方的订单ID</span>
  <span class="token property">&quot;T&quot;</span><span class="token operator">:</span> <span class="token number">123456785</span><span class="token punctuation">,</span>   <span class="token comment">// 成交时间</span>
  <span class="token property">&quot;m&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token comment">// 买方是否是做市方。如true，则此次成交是一个主动卖出单，否则是一个主动买入单。</span>
  <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>         <span class="token comment">// 请忽略该字段</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Stream Name:</strong> <code>&lt;symbol&gt;@trade</code></p> <p>逐笔交易推送每一笔成交的信息。<strong>成交</strong>，或者说交易的定义是仅有一个吃单者与一个挂单者相互交易</p> <h2 id="k线-streams"><a href="#k线-streams" class="header-anchor">#</a> K线 Streams</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kline&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 事件类型</span>
  <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>   <span class="token comment">// 事件时间</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 交易对</span>
  <span class="token property">&quot;k&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">123400000</span><span class="token punctuation">,</span> <span class="token comment">// 这根K线的起始时间</span>
    <span class="token property">&quot;T&quot;</span><span class="token operator">:</span> <span class="token number">123460000</span><span class="token punctuation">,</span> <span class="token comment">// 这根K线的结束时间</span>
    <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 交易对</span>
    <span class="token property">&quot;i&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1m&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// K线间隔</span>
    <span class="token property">&quot;f&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>       <span class="token comment">// 这根K线期间第一笔成交ID</span>
    <span class="token property">&quot;L&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>       <span class="token comment">// 这根K线期间末一笔成交ID</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0010&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 这根K线期间第一笔成交价</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0020&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 这根K线期间末一笔成交价</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0025&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 这根K线期间最高成交价</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0015&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 这根K线期间最低成交价</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 这根K线期间成交量</span>
    <span class="token property">&quot;n&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>       <span class="token comment">// 这根K线期间成交数量</span>
    <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>     <span class="token comment">// 这根K线是否完结(是否已经开始下一根K线)</span>
    <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0000&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 这根K线期间成交额</span>
    <span class="token property">&quot;V&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 主动买入的成交量</span>
    <span class="token property">&quot;Q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.500&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 主动买入的成交额</span>
    <span class="token property">&quot;B&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span>   <span class="token comment">// 忽略此参数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>K线stream逐秒推送所请求的K线种类(最新一根K线)的更新。</p> <p><strong>Stream Name:</strong> <code>&lt;symbol&gt;@kline_&lt;interval&gt;</code></p> <p><strong>Update Speed:</strong> 2000ms</p> <p><strong>K线图间隔参数:</strong></p> <p>m -&gt; 分钟; h -&gt; 小时; d -&gt; 天; w -&gt; 周; M -&gt; 月</p> <ul><li>1m</li> <li>3m</li> <li>5m</li> <li>15m</li> <li>30m</li> <li>1h</li> <li>2h</li> <li>4h</li> <li>6h</li> <li>8h</li> <li>12h</li> <li>1d</li> <li>3d</li> <li>1w</li> <li>1M</li></ul> <h2 id="按-symbol-的精简ticker"><a href="#按-symbol-的精简ticker" class="header-anchor">#</a> 按 Symbol 的精简Ticker</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token punctuation">{</span>
    <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;24hrMiniTicker&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 事件类型</span>
    <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>         <span class="token comment">// 事件时间</span>
    <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 交易对</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0025&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 最新成交价格</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0010&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 24小时前开始第一笔成交价格</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0025&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 24小时内最高成交价</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0010&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 24小时内最低成交加</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>           <span class="token comment">// 成交量</span>
    <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18&quot;</span>               <span class="token comment">// 成交额</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>按Symbol刷新的最近24小时精简ticker信息</p> <p><strong>Stream 名称:</strong> <code>&lt;symbol&gt;@miniTicker</code></p> <p><strong>Update Speed:</strong> 1000ms</p> <h2 id="全市场所有symbol的精简ticker"><a href="#全市场所有symbol的精简ticker" class="header-anchor">#</a> 全市场所有Symbol的精简Ticker</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 数组每一个元素对应一个交易对，内容与 \&lt;symbol\&gt;@miniTicker相同</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>同上，只是推送所有交易对.需要注意的是，只有更新的ticker才会被推送.</p> <p><strong>Stream名称:</strong> !miniTicker@arr</p> <p><strong>Update Speed:</strong> 1000ms</p> <h2 id="按symbol的完整ticker"><a href="#按symbol的完整ticker" class="header-anchor">#</a> 按Symbol的完整Ticker</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;24hrTicker&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 事件类型</span>
  <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>     <span class="token comment">// 事件时间</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 交易对</span>
  <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0015&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 24小时价格变化</span>
  <span class="token property">&quot;P&quot;</span><span class="token operator">:</span> <span class="token string">&quot;250.00&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 24小时价格变化(百分比)</span>
  <span class="token property">&quot;w&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0018&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 平均价格</span>
  <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0009&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 整整24小时之前，向前数的最后一次成交价格</span>
  <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0025&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 最新成交价格</span>
  <span class="token property">&quot;Q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 最新成交交易的成交量</span>
  <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0024&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 目前最高买单价</span>
  <span class="token property">&quot;B&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 目前最高买单价的挂单量</span>
  <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0026&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 目前最低卖单价</span>
  <span class="token property">&quot;A&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 目前最低卖单价的挂单量</span>
  <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0010&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 整整24小时前，向后数的第一次成交价格</span>
  <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0025&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 24小时内最高成交价</span>
  <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0010&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 24小时内最低成交加</span>
  <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 24小时内成交量</span>
  <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 24小时内成交额</span>
  <span class="token property">&quot;O&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>             <span class="token comment">// 统计开始时间</span>
  <span class="token property">&quot;C&quot;</span><span class="token operator">:</span> <span class="token number">86400000</span><span class="token punctuation">,</span>      <span class="token comment">// 统计结束时间</span>
  <span class="token property">&quot;F&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>             <span class="token comment">// 24小时内第一笔成交交易ID</span>
  <span class="token property">&quot;L&quot;</span><span class="token operator">:</span> <span class="token number">18150</span><span class="token punctuation">,</span>         <span class="token comment">// 24小时内最后一笔成交交易ID</span>
  <span class="token property">&quot;n&quot;</span><span class="token operator">:</span> <span class="token number">18151</span>          <span class="token comment">// 24小时内成交数</span>
<span class="token punctuation">}</span>
</code></pre></div><p>每秒推送单个交易对的过去24小时滚动窗口标签统计信息。</p> <p><strong>Stream 名称:</strong> <code>&lt;symbol&gt;@ticker</code></p> <p><strong>Update Speed:</strong> 1000ms</p> <h2 id="全市场所有交易对的完整ticker"><a href="#全市场所有交易对的完整ticker" class="header-anchor">#</a> 全市场所有交易对的完整Ticker</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// Same as &lt;symbol&gt;@ticker payload</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p><strong>Stream Name:</strong> <code>!ticker@arr</code></p> <p><strong>Update Speed:</strong> 1000ms</p> <p>推送全市场所有交易对刷新的24小时完整ticker信息。需要注意的是，没有更新的ticker不会被推送。</p> <h2 id="按symbol的最优挂单信息"><a href="#按symbol的最优挂单信息" class="header-anchor">#</a> 按Symbol的最优挂单信息</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;u&quot;</span><span class="token operator">:</span><span class="token number">400900217</span><span class="token punctuation">,</span>     <span class="token comment">// order book updateId</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span><span class="token string">&quot;BNBUSDT&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 交易对</span>
  <span class="token property">&quot;b&quot;</span><span class="token operator">:</span><span class="token string">&quot;25.35190000&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 买单最优挂单价格</span>
  <span class="token property">&quot;B&quot;</span><span class="token operator">:</span><span class="token string">&quot;31.21000000&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 买单最优挂单数量</span>
  <span class="token property">&quot;a&quot;</span><span class="token operator">:</span><span class="token string">&quot;25.36520000&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 卖单最优挂单价格</span>
  <span class="token property">&quot;A&quot;</span><span class="token operator">:</span><span class="token string">&quot;40.66000000&quot;</span>  <span class="token comment">// 卖单最优挂单数量</span>
<span class="token punctuation">}</span>
</code></pre></div><p>实时推送指定交易对最优挂单信息</p> <p><strong>Stream Name:</strong> <code>&lt;symbol&gt;@bookTicker</code></p> <p><strong>Update Speed:</strong> 实时</p> <h2 id="全市场最优挂单信息"><a href="#全市场最优挂单信息" class="header-anchor">#</a> 全市场最优挂单信息</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// Same as &lt;symbol&gt;@bookTicker payload</span>
<span class="token punctuation">}</span>
</code></pre></div><p>实时推送所有交易对交易对最优挂单信息</p> <p><strong>Stream Name:</strong> <code>!bookTicker</code></p> <p><strong>Update Speed:</strong> 实时</p> <h2 id="有限档深度信息"><a href="#有限档深度信息" class="header-anchor">#</a> 有限档深度信息</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;lastUpdateId&quot;</span><span class="token operator">:</span> <span class="token number">160</span><span class="token punctuation">,</span>  <span class="token comment">// Last update ID</span>
  <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Bids to be updated</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;0.0024&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// Price level to be updated</span>
      <span class="token string">&quot;10&quot;</span>              <span class="token comment">// Quantity</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Asks to be updated</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;0.0026&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// Price level to be updated</span>
      <span class="token string">&quot;100&quot;</span>            <span class="token comment">// Quantity</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>每秒或每100毫秒推送有限档深度信息。levels表示几档买卖单信息, 可选 5/10/20档</p> <p><strong>Stream Names:</strong> <code>&lt;symbol&gt;@depth&lt;levels&gt;</code> 或 <code>&lt;symbol&gt;@depth&lt;levels&gt;@100ms</code>.</p> <p><strong>Update Speed:</strong> 1000ms 或 100ms</p> <h2 id="增量深度信息"><a href="#增量深度信息" class="header-anchor">#</a> 增量深度信息</h2> <blockquote><p><strong>Payload:</strong></p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;depthUpdate&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 事件类型</span>
  <span class="token property">&quot;E&quot;</span><span class="token operator">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>     <span class="token comment">// 事件时间</span>
  <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BNBBTC&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 交易对</span>
  <span class="token property">&quot;U&quot;</span><span class="token operator">:</span> <span class="token number">157</span><span class="token punctuation">,</span>           <span class="token comment">// 从上次推送至今新增的第一个 update Id</span>
  <span class="token property">&quot;u&quot;</span><span class="token operator">:</span> <span class="token number">160</span><span class="token punctuation">,</span>           <span class="token comment">// 从上次推送至今新增的最后一个 update Id</span>
  <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>              <span class="token comment">// 变动的买单深度</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;0.0024&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 变动的价格档位</span>
      <span class="token string">&quot;10&quot;</span>            <span class="token comment">// 数量</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>              <span class="token comment">// 变动的卖单深度</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;0.0026&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 变动的价格档位</span>
      <span class="token string">&quot;100&quot;</span>           <span class="token comment">// 数量</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>每秒或每100毫秒推送orderbook的变化部分(如果有)</p> <p><strong>Stream Name:</strong> <code>&lt;symbol&gt;@depth</code> 或 <code>&lt;symbol&gt;@depth@100ms</code></p> <p><strong>Update Speed:</strong> 1000ms 或 100ms</p> <h2 id="如何正确在本地维护一个orderbook副本"><a href="#如何正确在本地维护一个orderbook副本" class="header-anchor">#</a> 如何正确在本地维护一个orderbook副本</h2> <ol><li>订阅 <strong>wss://stream.binance.com:9443/ws/bnbbtc@depth</strong></li> <li>开始缓存收到的更新。同一个价位，后收到的更新覆盖前面的。</li> <li>访问Rest接口 <strong>https://www.binance.com/api/v1/depth?symbol=BNBBTC&amp;limit=1000</strong> 获得一个1000档的深度快照</li> <li>将目前缓存到的信息中<code>u</code> &lt;= 步骤3中获取到的快照中的<code>lastUpdateId</code>的部分丢弃(丢弃更早的信息，已经过期)。</li> <li>将深度快照中的内容更新到本地orderbook副本中，并从websocket接收到的第一个<code>U</code> &lt;= <code>lastUpdateId</code>+1 <strong>且</strong> <code>u</code> &gt;= <code>lastUpdateId</code>+1 的event开始继续更新本地副本。</li> <li>每一个新event的<code>U</code>应该恰好等于上一个event的<code>u</code>+1，否则可能出现了丢包，请从step3重新进行初始化。</li> <li>每一个event中的挂单量代表这个价格目前的挂单量<strong>绝对值</strong>，而不是相对变化。</li> <li>如果某个价格对应的挂单量为0，表示该价位的挂单已经撤单或者被吃，应该移除这个价位。</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/5/2020, 12:29:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="general.html" class="prev">
        Websocket介绍
      </a></span> <span class="next"><a href="user_stream.html">
        账户信息推送
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="../../../assets/js/app.a1ad5869.js" defer></script><script src="../../../assets/js/2.a3268d1a.js" defer></script><script src="../../../assets/js/65.e9ea2081.js" defer></script>
  </body>
</html>
